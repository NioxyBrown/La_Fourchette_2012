//A REPENSER

var restaurants = new Array();
<% for restaurant in @restaurant -%>
  restaurant.push(new Array(<%= restaurant.id %>, '<%=h restaurant.city %>'));
<% end -%>

function employeeSelected() {
  employee_id = $('admin_table_employee_id').getValue();
  options = $('admin_table_restaurant_id').options;
  options.length = 1;
  restaurants.each(function(restaurant) {
    if (restaurant[0] == country_id) {
      options[options.length] = new Option(state[1], state[2]);
    }
  });
  if (options.length == 1) {
    $('state_field').hide();
  } else {
    $('state_field').show();
  }
}

document.observe('dom:loaded', function() {
  employeeSelected();
  $('admin_person_country_id').observe('change', employeeSelected);
});